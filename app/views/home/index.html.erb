<h1>Home#index</h1>
<p>Find me in app/views/home/index.html.erb</p>
<% if current_user.profile %>
  <button class="btn btn-warning">You've set up a profile. Good for you!</button>
<% end %>

<% if user_signed_in? %>
  <%= link_to 'Sign Out', destroy_user_session_path, method: :delete %>
<% else %>
  <%= link_to 'Sign In', user_session_path, method: :get %>
<% end %>
<br>
  <hr>
<% if current_user.profile %>
      <span>Welcome back, <%= current_user.email %>,
      you're role is
        <% if current_user.has_role? :admin %>
            <span><strong>admin</strong></span>
            <% else current_user.has_role? :super_admin %>
              <span><strong>super admin</strong></span>
        <% end %>
      </span>
  <% else %>
      <span>How about creating <%= link_to 'a profile?', new_profile_path %></span>
<% end %>
      <hr>
<strong>Questions to ask Matt</strong>
<ul>
  <li>How to get railgun working on the production site</li>
  <li>the location of the rails_admin HTML to alter/remove layout elements</li>
  <li>better charts?</li>
</ul>
<strong>I'm up to...</strong>
<ul>
  <li>Currently following video tutorial to add an admin panel. WORKING ON A BRANCH CALLED 'admin_panel'. Once you're happy, commit, test, then merge to origin (see word doc for how to)</li>
  <li>Have added admin panel at /admin2 – to manage who can access the admin panel, edit rails_admin in initializers.</li>
  <li>Work out how to change colour/styling of the alerts + use FontAwesome rather than images for icons.</li>
  <li>Creating the user_controller and making an admin and a super admin <span class="btn btn-warning btn-sml">In Progress, privelages for admin/super need to be defined</span></li>
  <li>Need to limit profile create to 1 per user and prevent them from seeing anyone else's profiles</li>
  <li>Need to restrict access to view/edit user profiles to ONLY the user it belongs to (unless an admin)</li>
  <hr>
  <li>Added CanCan parameters to restrict who can edit profils/view profiles (admin can edit/see all, users can only see/edit their own)<span class="btn btn-success btn-sml">Done!</span></li>
  <li>Created an admin panel restricted to admins and suepr admins only + help page for how to use the site as admin or user + contact page<span class="btn btn-success btn-sml">Done!</span></li>
  <li>Create a 'delete' def in user to log out a user <span class="btn btn-success btn-sml">Done!</span></li>
  <li>Redirecting a user to the 'create a profile' page automatically after log in if they haven't set up a profile using "if current_user.profile" <span class="btn btn-success btn-sml">Done!</span></li>
</ul>
<ul><strong>Tutorials that will be of use</strong>
  <li>Use AJAX to reload parts of the page without refreshing the entire page: <a href="https://www.youtube.com/watch?v=2Il7PPhen3o">View Here</a></li>
  <li>Railscast – using jquery and AJAX <a href="https://www.youtube.com/watch?v=M7yhPlIehFA">View Here</a></li>
  <li>Auto complete fields: <a href="https://www.youtube.com/watch?v=M7yhPlIehFA">View Here</a></li>
</ul>
<hr>
<% User.all.each do |user| %>
  <%= user.email %> | <%# link_to 'Delete', destroy_me_path, method: :delete, data: { confirm: "You sure?" } %>
  <%= link_to 'Delete User', user_path(user), method: :delete, data: { confirm: 'Are you sure?' } %>
<% end %>